{"mappings":"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","sources":["src/js/refs.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-470a1ca9f0ba9098.js","src/js/renderMovieCard.js","node_modules/@parcel/runtime-js/lib/runtime-711dd34b72db6d9e.js","node_modules/@parcel/runtime-js/lib/runtime-0136b23d5a2878a9.js","src/js/mylibrary-service.js","src/js/local-storage-api.js","src/js/modal.js","src/js/library.js"],"sourcesContent":["export default function getRefs() {\n  const footerModalEl = document.querySelector('.footer-modal-js');\n  const footerAboutModalEl = document.querySelector('.about-modal-js');\n  const footerCloseBtn = document.querySelector('.about-modal__close-js');\n  const footerBackdrop = document.querySelector('.backdrop-js');\n  const bodyEl = document.querySelector('body');\n  const searchForm = document.querySelector('.search__form');\n  const gallery = document.querySelector('.movie-list');\n  const moviesContainer = document.querySelector('.container.movie');\n  const library = document.querySelector('main');\n  const searchInput = document.querySelector('.search__input');\n  const paginationDiv = document.querySelector('.pagination');\n  const modal = document.querySelector('.js-modal');\n  const overlay = document.querySelector('.overlay');\n  const modal__info = document.querySelector('.modal__info');\n  const modalCloseBtn = document.querySelector('.close-btn');\n  const queueBtn = document.querySelector('.queue__button');\n  const watchedBtn = document.querySelector('.watched__button');\n  const backdropTrailer = document.querySelector('.backdrop-trailer');\n  const playerDiv = document.querySelector('.player');\n  return {\n    searchForm,\n    gallery,\n    searchInput,\n    paginationDiv,\n    modal,\n    overlay,\n    modal__info,\n    modalCloseBtn,\n    footerModalEl,\n    footerAboutModalEl,\n    footerCloseBtn,\n    footerBackdrop,\n    bodyEl,\n    backdropTrailer,\n    playerDiv,\n    footerModalEl,\n    queueBtn,\n    watchedBtn,\n    library,\n    moviesContainer,\n  };\n}\n","\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"jNRdE\\\":\\\"library.c91ffb24.js\\\",\\\"eKkGD\\\":\\\"play-button.6ab4f177.png\\\",\\\"9vbMg\\\":\\\"empty-collection.9b5b83aa.jpg\\\"}\"));","export function renderMovieCard(gallery, card_data) {\n  const markup = card_data\n    .map(\n      ({\n        fullposter_path,\n        title,\n        genres,\n        release_year,\n        overview,\n        popularity,\n        vote_average,\n        vote_count,\n        id,\n      }) => {\n        return `\n      <li class=\"movie-list__item\"\n          data-id=\"${id}\"\n          data-title=\"${title}\"\n          data-genres=\"${genres}\"\n          data-year=\"${release_year}\"\n          data-poster=\"${fullposter_path}\"\n          data-popularity=\"${popularity}\"\n          data-vote=\"${vote_average}\"\n          data-votes=\"${vote_count}\"\n          data-about=\"${overview}\">\n        <img class=\"movie-list__img\" src=${fullposter_path} alt=${title}>\n        <div class=\"movie-list__info\">\n          <h2 class=\"movie-list__title\">${title}</h2>\n          <p class=\"movie-list__text\">${genres} | ${release_year}</p>\n        </div>\n      </li>\n    `;\n      }\n    )\n    .join('');\n\n  gallery.insertAdjacentHTML('beforeend', markup);\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('jNRdE') + require('./helpers/bundle-manifest').resolve(\"eKkGD\");","module.exports = require('./helpers/bundle-url').getBundleURL('jNRdE') + require('./helpers/bundle-manifest').resolve(\"9vbMg\");","import getRefs from './refs';\nimport { renderMovieCard } from './renderMovieCard';\nimport LocalStorageAPIService from './local-storage-api';\nimport emptyCollection from '../images/empty-collection.jpg';\n\nexport const KEY_WATCHED = 'watchedMovies';\nexport const KEY_QUEUE = 'queueMovies';\n\nconst localStorageAPIService = new LocalStorageAPIService();\nconst { gallery, moviesContainer } = getRefs();\n\nexport function createMuvieObject(data) {\n  const { title, genres, poster, year, vote, votes, about, popularity, id } =\n    data;\n\n  return {\n    id,\n    fullposter_path: poster,\n    title,\n    genres,\n    release_year: year,\n    overview: about,\n    popularity,\n    vote_average: vote,\n    vote_count: votes,\n  };\n}\n\nexport function loadMovies(key) {\n  localStorageAPIService.key = key;\n  const movies = localStorageAPIService.loadFromLibrary();\n  gallery.innerHTML = '';\n  if (movies.length) {\n    document.querySelector('.emptyCollection')?.remove();\n    renderMovieCard(gallery, movies);\n  } else {\n    const markup = `<div class=\"emptyCollection\"><img src=\"${emptyCollection}\" alt=\"emptyCollection\"/></div>`;\n    moviesContainer.insertAdjacentHTML('afterbegin', markup);\n  }\n}\n\nexport function saveToWatched(movies, newMovie = null) {\n  if (newMovie) movies.push(newMovie);\n  localStorageAPIService.key = KEY_WATCHED;\n  localStorageAPIService.saveToLibrary(movies);\n}\n\nexport function saveToQueue(movies, newMovie = null) {\n  if (newMovie) movies.push(newMovie);\n  localStorageAPIService.key = KEY_QUEUE;\n  localStorageAPIService.saveToLibrary(movies);\n}\n\nexport function loadFromWatched() {\n  localStorageAPIService.key = KEY_WATCHED;\n  return localStorageAPIService.loadFromLibrary();\n}\n\nexport function loadFromQueue() {\n  localStorageAPIService.key = KEY_QUEUE;\n  return localStorageAPIService.loadFromLibrary();\n}\n","\nexport default class LocalStorageAPIService {\n\n  constructor() {\n    this.storageKey = '';\n  }\n\n  saveToLibrary(data) {\n    localStorage.setItem(this.storageKey, JSON.stringify(data));\n  }\n\n  loadFromLibrary() {\n    try {\n      return JSON.parse(localStorage.getItem(this.storageKey)) || [];;\n    } catch (error) {\n      console.log('Error: ', error.message);\n      return [];\n    }\n  }\n\n  get key() {\n    return this.storageKey;\n  }\n\n  set key(newStorageKey) {\n    this.storageKey = newStorageKey;\n  }\n}\n","import getRefs from './refs ';\nimport playIcon from '../images/play-button.png';\nimport {\n  saveToQueue,\n  saveToWatched,\n  loadFromQueue,\n  loadFromWatched,\n  createMuvieObject,\n  KEY_QUEUE,\n  KEY_WATCHED,\n} from './mylibrary-service';\n\nconst { overlay, modal, modal__info, modalCloseBtn } = getRefs();\n\nlet data = '';\nlet watchedArray = loadFromWatched();\nlet queueArray = loadFromQueue();\nexport let movieId = '';\n\n\nexport function onModalBtnClick(evt) {\n  const newObject = createMuvieObject(data.dataset);\n  const { id } =\n    data.dataset;\n  movieId = id;\n\n  if (evt.target.classList.contains('add-watched')) {\n    saveToWatched(watchedArray, newObject);\n    evt.target.classList.add('delete-watched');\n    evt.target.classList.remove('add-watched');\n    evt.target.textContent = 'Delete from watched';\n    return KEY_WATCHED;\n  }\n\n  if (evt.target.classList.contains('delete-watched')) {\n    watchedArray = watchedArray.filter(item => item.id !== id);\n    saveToWatched(watchedArray);\n    evt.target.classList.add('add-watched');\n    evt.target.classList.remove('delete-watched');\n    evt.target.textContent = 'Add to watched';\n    return KEY_WATCHED;\n  }\n\n  if (evt.target.classList.contains('add-queue')) {\n    saveToQueue(queueArray, newObject);\n    evt.target.classList.add('delete-queue');\n    evt.target.classList.remove('add-queue');\n    evt.target.textContent = 'Delete from queue';\n    return KEY_QUEUE;\n  }\n\n  if (evt.target.classList.contains('delete-queue')) {\n    queueArray = queueArray.filter(item => item.id !== id);\n    saveToQueue(queueArray);\n    evt.target.classList.add('add-queue');\n    evt.target.classList.remove('delete-queue');\n    evt.target.textContent = 'Add to queue';\n    return KEY_QUEUE;\n  }\n}\n\nexport function renderModal(evt) {\n  data = evt.target.closest('.movie-list__item');\n  const { id, title, genres, poster, popularity, about, votes, vote } =\n    data.dataset;\n\n  let queueBtnMarkup = 'class=\"modal__btn add-queue\">add to queue';\n  if (queueArray.filter(item => item.id === id).length) {\n    queueBtnMarkup =\n      'class=\"modal__btn delete-queue btn-accent\">Delete from queue';\n  }\n\n  let watchedBtnMarkup =\n    'class=\"modal__btn add-watched btn-accent\">add to Watched';\n  if (watchedArray.filter(item => item.id === id).length) {\n    watchedBtnMarkup =\n      'class=\"modal__btn delete-watched btn-accent\">Delete from Watched';\n  }\n\n  const markup = `\n  <div class=\"img-wrapper\">\n    <img\n      class=\"modal__img play\"\n      src=\"${poster}\"\n      alt=\"poster\"\n    />\n    <img\n      class=\"play-icon play\"\n      src=\"${playIcon}\"\n      alt=\"play-icon\"\n    />\n  </div>\n  <div class=\"movie-description\">\n    <h2 class=\"movie-title\">${title}</h2>\n    <ul class=\"movie-info__list\">\n      <li class=\"movie-info__item\">\n        <p class=\"info-name\">Vote / Votes</p>\n        <p class=\"info-value votes-wrapper\"><span class=\"vote-average\">${vote}</span> / ${votes}</p>\n      </li>\n      <li class=\"movie-info__item\">\n        <p class=\"info-name\">Popularity</p>\n        <p class=\"info-value\">${popularity}</p>\n      </li>\n      <li class=\"movie-info__item\">\n        <p class=\"info-name\">Original Title</p>\n        <p class=\"info-value\">${title}</p>\n      </li>\n      <li class=\"movie-info__item\">\n        <p class=\"info-name\">Genre</p>\n        <p class=\"info-value\">${genres}</p>\n      </li>\n    </ul>\n    <div class=\"movie-about\">\n      <p class=\"about__title\">About</p>\n      <p class=\"about__text\">${about}</p>\n    </div>\n    <div class=\"btn-wrapper\">\n      <button ${watchedBtnMarkup}</button>\n      <button ${queueBtnMarkup}</button>\n    </div >\n  </div > `;\n\n  modal__info.innerHTML = markup;\n\n  modal.classList.remove('hidden');\n  overlay.classList.remove('hidden');\n\n  // ховаємо модалку фільму по Escape\n\n  document.addEventListener('keydown', escapePressed);\n\n  removeModal();\n}\n\nfunction removeModal() {\n  modalCloseBtn.addEventListener('click', addHidden);\n  overlay.addEventListener('click', addHidden);\n}\n\nfunction addHidden() {\n  modal.classList.add('hidden');\n  overlay.classList.add('hidden');\n\n  document.removeEventListener('keydown', escapePressed);\n}\n\nfunction escapePressed(event) {\n  event.preventDefault();\n\n  if (event.code === 'Escape') {\n    console.log('Ecsape was pressed');\n    addHidden();\n  }\n}\n","import { renderModal, onModalBtnClick } from './modal';\n// import { showTrailer, hideTrailer } from './trailer';\nimport { loadMovies, KEY_QUEUE,KEY_WATCHED} from './mylibrary-service';\nimport getRefs from './refs';\n\nconst { queueBtn, watchedBtn, gallery, modal } = getRefs();\n\nloadMovies(KEY_WATCHED);\ndocument.addEventListener('DOMContentLoaded', function () {\n  watchedBtn.focus();\n});\nwatchedBtn.addEventListener('click', onWatchedBtnClick);\nqueueBtn.addEventListener('click', onQueueBtnClick);\n\ngallery.addEventListener('click', renderModal);\nmodal.addEventListener('click', onCardClick);\n// modal.addEventListener('click', showTrailer);\n// backdropTrailer.addEventListener('click', hideTrailer);\n\nfunction onWatchedBtnClick(){\n  queueBtn.classList.remove('library__button--active');\n  watchedBtn.classList.add('library__button--active');\n  loadMovies(KEY_WATCHED);\n}\n\nfunction onQueueBtnClick(){\n  queueBtn.classList.add('library__button--active');\n  watchedBtn.classList.remove('library__button--active');\n  loadMovies(KEY_QUEUE);\n}\n\nfunction onCardClick(evt) {\n  const key = onModalBtnClick(evt);\n  switch (key) {\n    case KEY_WATCHED:\n      if (watchedBtn.classList.contains('library__button--active')) loadMovies(key);\n      break;\n    case KEY_QUEUE:\n      if (queueBtn.classList.contains('library__button--active')) loadMovies(key);\n      break;\n  }\n}"],"names":["$37e33676934ad046$export$2e2bcd8739ae039","footerModalEl","document","querySelector","footerAboutModalEl","footerCloseBtn","footerBackdrop","bodyEl","searchForm","gallery","moviesContainer","library","searchInput","paginationDiv","modal","overlay","modal__info","modalCloseBtn","queueBtn","watchedBtn","$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$fcf0b2ff60ad8845$export$605b145a07818080","card_data","markup","map","fullposter_path","title","genres","release_year","overview","popularity","vote_average","vote_count","join","insertAdjacentHTML","$600b60a3a13ab4cd$exports","getBundleURL","resolve","$81e13dc3f27d01cf$exports","$8336b445e7d5b14d$export$bf348ba91bbfa858","$8336b445e7d5b14d$export$18da41cc526d0bf2","$8336b445e7d5b14d$var$localStorageAPIService","saveToLibrary","data","localStorage","setItem","this","storageKey","stringify","loadFromLibrary","getItem","error","console","log","message","key","newStorageKey","constructor","$8336b445e7d5b14d$var$gallery","$8336b445e7d5b14d$var$moviesContainer","$8336b445e7d5b14d$export$7c9949df5cb723f7","poster","year","vote","votes","about","$8336b445e7d5b14d$export$70103e71d6f61b6c","movies","innerHTML","remove","$parcel$interopDefault","$8336b445e7d5b14d$export$4b54d4e203b74f97","newMovie","push","$8336b445e7d5b14d$export$eb160fe178e9da55","$40873ecf3c18e122$var$overlay","$40873ecf3c18e122$var$modal","$40873ecf3c18e122$var$modal__info","$40873ecf3c18e122$var$modalCloseBtn","$40873ecf3c18e122$var$data","$40873ecf3c18e122$var$watchedArray","$40873ecf3c18e122$var$queueArray","$40873ecf3c18e122$export$8f2bcfbbaef19220","$40873ecf3c18e122$export$c79f5d833954764","evt","newObject","dataset","target","classList","contains","add","textContent","filter","item","$40873ecf3c18e122$var$addHidden","removeEventListener","$40873ecf3c18e122$var$escapePressed","event","preventDefault","code","$93effc6fc56091ad$var$queueBtn","$93effc6fc56091ad$var$watchedBtn","$93effc6fc56091ad$var$gallery","$93effc6fc56091ad$var$modal","addEventListener","focus","closest","queueBtnMarkup","watchedBtnMarkup"],"version":3,"file":"library.c91ffb24.js.map"}
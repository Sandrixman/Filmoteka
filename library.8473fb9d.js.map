{"mappings":"AAAe,SAAAA,IACb,MAAMC,EAAgBC,SAASC,cAAc,oBACvCC,EAAaF,SAASC,cAAc,iBACpCE,EAAUH,SAASC,cAAc,eACjCG,EAAcJ,SAASC,cAAc,kBACrCI,EAAgBL,SAASC,cAAc,eACvCK,EAAQN,SAASC,cAAc,aAC/BM,EAAUP,SAASC,cAAc,YACjCO,EAAcR,SAASC,cAAc,gBACrCQ,EAAgBT,SAASC,cAAc,cACvCS,EAAWV,SAASC,cAAc,kBAClCU,EAAaX,SAASC,cAAc,oBAG1C,MAAO,C,WACLC,E,QACAC,E,YACAC,E,cACAC,E,MACAC,E,QACAC,E,YACAC,E,cACAC,E,cACAV,E,gBAXsBC,SAASC,cAAc,qB,UAC7BD,SAASC,cAAc,W,cAavCF,E,SACAW,E,WACAC,EAEJ,CC9BO,SAASC,EAAgBT,EAASU,GACvC,MAAMC,EAASD,EACZE,KACC,EAACC,gBACCA,EAAeC,MACfA,EAAKC,OACLA,EAAMC,aACNA,EAAYC,SACZA,EAAQC,WACRA,EAAUC,aACVA,EAAYC,WACZA,EAAUC,GACVA,KAEO,4DAEMA,6BACGP,8BACCC,4BACFC,8BACEH,kCACIK,4BACNC,6BACCC,6BACAH,iDACmBJ,SAAuBC,uFAExBA,iDACFC,OAAYC,6CAM/CM,KAAK,IAERtB,EAAQuB,mBAAmB,YAAaZ,EAC1C,CCjCA,MAAMa,EAAc,gBACdC,EAAY,cAEZC,EAAyB,ICNhB,MAMbC,cAAcC,GACZC,aAAaC,QAAQC,KAAKC,WAAYC,KAAKC,UAAUN,GACvD,CAEAO,kBACE,IACE,OAAOF,KAAKG,MAAMP,aAAaQ,QAAQN,KAAKC,cAAgB,EAI9D,CAHE,MAAOM,GAEP,OADAC,QAAQC,IAAI,UAAWF,EAAMG,SACtB,EACT,CACF,CAEIC,UACF,OAAOX,KAAKC,UACd,CAEIU,QAAIC,GACNZ,KAAKC,WAAaW,CACpB,CAvBAC,cACEb,KAAKC,WAAa,EACpB,IDGIhC,QAAE6C,GAAYlD,IELpB,MAAMY,SAAEuC,EAAQtC,WAAEuC,EAAU/C,QAAEgD,GAAYrD,IAE1CoD,EAAWE,iBAAiB,SFMrB,WACLvB,EAAuBgB,IAAMlB,EAC7B,MAAM0B,EAASxB,EAAuBS,kBACtCU,EAAQM,UAAY,GAEhBD,EAAOE,QACT3C,EAAgBoC,EAASK,EAE7B,IEbAJ,EAASG,iBAAiB,SFenB,WACLvB,EAAuBgB,IAAMjB,EAC7B,MAAMyB,EAASxB,EAAuBS,kBACtCU,EAAQM,UAAY,GAEhBD,EAAOE,QACT3C,EAAgBoC,EAASK,EAE7B","sources":["src/js/refs.js","src/js/renderMovieCard.js","src/js/mylibrary-service.js","src/js/local-storage-api.js","src/js/library.js"],"sourcesContent":["export default function getRefs() {\n  const footerModalEl = document.querySelector('.footer-modal-js');\n  const searchForm = document.querySelector('.search__form');\n  const gallery = document.querySelector('.movie-list');\n  const searchInput = document.querySelector('.search__input');\n  const paginationDiv = document.querySelector('.pagination');\n  const modal = document.querySelector('.js-modal');\n  const overlay = document.querySelector('.overlay');\n  const modal__info = document.querySelector('.modal__info');\n  const modalCloseBtn = document.querySelector('.close-btn');\n  const queueBtn = document.querySelector('.queue__button');\n  const watchedBtn = document.querySelector('.watched__button');\n  const backdropTrailer = document.querySelector('.backdrop-trailer');\n  const playerDiv = document.querySelector('.player');\n  return {\n    searchForm,\n    gallery,\n    searchInput,\n    paginationDiv,\n    modal,\n    overlay,\n    modal__info,\n    modalCloseBtn,\n    footerModalEl,\n    backdropTrailer,\n    playerDiv,\n    footerModalEl,\n    queueBtn,\n    watchedBtn,\n  };\n}\n","export function renderMovieCard(gallery, card_data) {\n  const markup = card_data\n    .map(\n      ({\n        fullposter_path,\n        title,\n        genres,\n        release_year,\n        overview,\n        popularity,\n        vote_average,\n        vote_count,\n        id,\n      }) => {\n        return `\n      <li class=\"movie-list__item\"\n          data-id=\"${id}\"\n          data-title=\"${title}\"\n          data-genres=\"${genres}\"\n          data-year=\"${release_year}\"\n          data-poster=\"${fullposter_path}\"\n          data-popularity=\"${popularity}\"\n          data-vote=\"${vote_average}\"\n          data-votes=\"${vote_count}\"\n          data-about=\"${overview}\">\n        <img class=\"movie-list__img\" src=${fullposter_path} alt=${title}>\n        <div class=\"movie-list__info\">\n          <h2 class=\"movie-list__title\">${title}</h2>\n          <p class=\"movie-list__text\">${genres} | ${release_year}</p>\n        </div>\n      </li>\n    `;\n      }\n    )\n    .join('');\n\n  gallery.insertAdjacentHTML('beforeend', markup);\n}\n","import getRefs from './refs';\nimport { renderMovieCard } from './renderMovieCard';\nimport LocalStorageAPIService from './local-storage-api';\n\nconst KEY_WATCHED = 'watchedMovies';\nconst KEY_QUEUE = 'queueMovies';\n\nconst localStorageAPIService = new LocalStorageAPIService();\nconst { gallery } = getRefs();\n\n\nexport function loadWathed() {\n  localStorageAPIService.key = KEY_WATCHED;\n  const movies = localStorageAPIService.loadFromLibrary();\n  gallery.innerHTML = '';\n\n  if (movies.length) {\n    renderMovieCard(gallery, movies);\n  }\n}\n\nexport function loadQueue() {\n  localStorageAPIService.key = KEY_QUEUE;\n  const movies = localStorageAPIService.loadFromLibrary();\n  gallery.innerHTML = '';\n\n  if (movies.length) {\n    renderMovieCard(gallery, movies);\n  }\n}\n\nexport function saveToWatched(muvies) {\n  localStorageAPIService.key = KEY_WATCHED;\n  localStorageAPIService.saveToLibrary(muvies);\n}\n\nexport function saveToQueue(muvies) {\n  localStorageAPIService.key = KEY_QUEUE;\n  localStorageAPIService.saveToLibrary(muvies);\n}\n\nexport function loadFromWatched() {\n  localStorageAPIService.key = KEY_WATCHED;\n  return localStorageAPIService.loadFromLibrary();\n}\n\nexport function loadFromQueue() {\n  localStorageAPIService.key = KEY_QUEUE;\n  return localStorageAPIService.loadFromLibrary();\n}\n","\nexport default class LocalStorageAPIService {\n\n  constructor() {\n    this.storageKey = '';\n  }\n\n  saveToLibrary(data) {\n    localStorage.setItem(this.storageKey, JSON.stringify(data));\n  }\n\n  loadFromLibrary() {\n    try {\n      return JSON.parse(localStorage.getItem(this.storageKey)) || [];;\n    } catch (error) {\n      console.log('Error: ', error.message);\n      return [];\n    }\n  }\n\n  get key() {\n    return this.storageKey;\n  }\n\n  set key(newStorageKey) {\n    this.storageKey = newStorageKey;\n  }\n}\n","import getRefs from './refs';\nimport { loadQueue, loadWathed } from './mylibrary-service';\n\nconst { queueBtn, watchedBtn, gallery } = getRefs();\n\nwatchedBtn.addEventListener('click', loadWathed);\nqueueBtn.addEventListener('click', loadQueue);\n\n\n\n"],"names":["$ee27a4d7c64fc8c4$export$2e2bcd8739ae039","footerModalEl","document","querySelector","searchForm","gallery","searchInput","paginationDiv","modal","overlay","modal__info","modalCloseBtn","queueBtn","watchedBtn","$0384bbdc6bba0e8b$export$605b145a07818080","card_data","markup","map","fullposter_path","title","genres","release_year","overview","popularity","vote_average","vote_count","id","join","insertAdjacentHTML","$9bbeb186dfe3551a$var$KEY_WATCHED","$9bbeb186dfe3551a$var$KEY_QUEUE","$9bbeb186dfe3551a$var$localStorageAPIService","saveToLibrary","data","localStorage","setItem","this","storageKey","JSON","stringify","loadFromLibrary","parse","getItem","error","console","log","message","key","newStorageKey","constructor","$9bbeb186dfe3551a$var$gallery","$1cafa503bc57b7a0$var$queueBtn","$1cafa503bc57b7a0$var$watchedBtn","$1cafa503bc57b7a0$var$gallery","addEventListener","movies","innerHTML","length"],"version":3,"file":"library.8473fb9d.js.map"}